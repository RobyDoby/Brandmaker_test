(()=>{"use strict";const e=document.querySelector(".select__header"),t=document.querySelector(".select__city"),s=document.querySelector(".select__body"),c=document.querySelector(".select");e.addEventListener("click",(e=>{let t=e.target.classList;(t.contains("select__city")||t.contains("select__icon"))&&c.classList.toggle("active")})),s.addEventListener("click",(e=>{e.target.classList.contains("select__item")&&(t.textContent=e.target.textContent,c.classList.toggle("active"))})),s.addEventListener("keyup",(e=>{e.target.classList.contains("select__item")&&"Enter"===e.key&&(t.textContent=e.target.textContent,c.classList.toggle("active"))})),t.addEventListener("keyup",(e=>{"Enter"===e.key&&c.classList.toggle("active")}));const a=document.querySelector(".header"),i=document.querySelector(".top-header__burger"),n=document.querySelector(".top-header__close"),o=document.querySelector(".header__content"),r=document.querySelector(".header-nav"),d=(document.querySelector(".submenu-header"),document.querySelector(".header-nav__item_expanded"));r.addEventListener("click",(e=>{(e.target.classList.contains("header-nav__link")||e.target.classList.contains("submenu-header__link"))&&(o.classList.remove("active"),i.classList.remove("hidden"),n.classList.remove("active"),d.classList.remove("active"))})),i.addEventListener("click",(()=>{o.style.marginTop=l(),o.classList.add("active"),i.classList.add("hidden"),n.classList.add("active")})),n.addEventListener("click",(()=>{o.classList.remove("active"),i.classList.remove("hidden"),n.classList.remove("active")}));const l=()=>`${document.querySelector(".header__top").getBoundingClientRect().height}px`;a.addEventListener("click",(e=>{const t=d.contains(e.target);d.classList.contains("active")&&!t&&d.classList.toggle("active")})),a.addEventListener("keyup",(e=>{d.classList.contains("active")&&"Escape"===e.key&&d.classList.remove("active")})),d.addEventListener("click",(e=>{(e.target.classList.contains("header-nav__submenu-title")||e.target.parentElement.classList.contains("header-nav__submenu-title"))&&d.classList.toggle("active")})),d.addEventListener("keyup",(e=>{"Enter"===e.key&&d.classList.toggle("active")})),window.addEventListener("resize",(()=>{window.innerWidth>=650&&(o.style.marginTop="0px")}));const v=document.querySelector(".modal"),m=document.querySelector(".hero__cta_mobile"),u=document.querySelector(".modal__close"),L=document.querySelector(".modal__btn");m.addEventListener("click",(()=>{v.classList.add("active")})),u.addEventListener("click",(()=>{v.classList.remove("active")})),L.addEventListener("click",(e=>{e.preventDefault()}));const _=document.querySelector(".form-steps"),y=document.querySelectorAll(".form-steps__image"),g=document.querySelector(".form-steps__images"),p=document.querySelector(".form-steps__steps-list"),h=document.querySelectorAll(".form-steps__step"),E=document.querySelector(".form-steps__content"),S=document.querySelector(".cta-steps"),q=document.querySelector(".form-steps__actions"),k=document.querySelector(".form-steps__prev-btn"),f=document.querySelector(".form-steps__btn");let A=0;!function(){for(let e=0;e<h.length;e++){let t=document.createElement("span");0===e&&t.classList.add("active"),t.textContent=`Шаг ${e+1}`,p.append(t)}}();const b=p.querySelectorAll("span");k.addEventListener("click",(()=>{y.forEach((e=>e.classList.remove("active"))),h.forEach((e=>e.classList.remove("active"))),b.forEach((e=>e.classList.remove("active"))),A--,A<=0&&k.classList.remove("active"),y[A].classList.add("active"),h[A].classList.add("active"),b[A].classList.add("active")})),f.addEventListener("click",(()=>{y.forEach((e=>e.classList.remove("active"))),h.forEach((e=>e.classList.remove("active"))),b.forEach((e=>e.classList.remove("active"))),A++,A>=h.length&&(_.classList.add("active"),S.classList.add("active"),q.classList.add("hidden"),p.classList.add("hidden"),E.classList.add("hidden"),g.classList.add("hidden")),y[A].classList.add("active"),h[A].classList.add("active"),b[A].classList.add("active"),k.classList.add("active")})),function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}()})();