(()=>{"use strict";const e=document.querySelector(".select__header"),t=document.querySelector(".select__city"),s=document.querySelector(".select__body"),c=document.querySelector(".select");e.addEventListener("click",(e=>{let t=e.target.classList;(t.contains("select__city")||t.contains("select__icon"))&&c.classList.toggle("active")})),s.addEventListener("click",(e=>{e.target.classList.contains("select__item")&&(t.textContent=e.target.textContent,c.classList.toggle("active"))})),s.addEventListener("keyup",(e=>{e.target.classList.contains("select__item")&&"Enter"===e.key&&(t.textContent=e.target.textContent,c.classList.toggle("active"))})),t.addEventListener("keyup",(e=>{"Enter"===e.key&&c.classList.toggle("active")}));const a=document.querySelector("header"),i=document.querySelector(".top-header__burger"),n=document.querySelector(".top-header__close"),o=document.querySelector(".header__content"),d=document.querySelector(".header-nav"),l=(document.querySelector(".submenu-header"),document.querySelector(".header-nav__item_expanded"));d.addEventListener("click",(e=>{(e.target.classList.contains("header-nav__link")||e.target.classList.contains("submenu-header__link"))&&(o.classList.remove("active"),i.classList.remove("hidden"),n.classList.remove("active"),l.classList.remove("active"),document.body.classList.remove("locked"))})),i.addEventListener("click",(()=>{o.style.marginTop=r(),o.classList.add("active"),i.classList.add("hidden"),n.classList.add("active"),document.body.classList.add("locked")})),n.addEventListener("click",(()=>{o.classList.remove("active"),i.classList.remove("hidden"),n.classList.remove("active"),document.body.classList.remove("locked")}));const r=()=>`${document.querySelector(".header__top").getBoundingClientRect().height}px`;a.addEventListener("click",(e=>{const t=l.contains(e.target);l.classList.contains("active")&&!t&&l.classList.toggle("active");const s=document.querySelector(".select"),c=s.contains(e.target);s.classList.contains("active")&&!c&&s.classList.toggle("active")})),a.addEventListener("keyup",(e=>{l.classList.contains("active")&&"Escape"===e.key&&l.classList.remove("active")})),l.addEventListener("click",(e=>{(e.target.classList.contains("header-nav__submenu-title")||e.target.parentElement.classList.contains("header-nav__submenu-title"))&&l.classList.toggle("active")})),l.addEventListener("keyup",(e=>{"Enter"===e.key&&l.classList.toggle("active")})),window.addEventListener("resize",(()=>{window.innerWidth>=650&&(o.style.marginTop="0px")}));const m=document.querySelector(".modal"),u=document.querySelector(".hero__cta_mobile"),v=document.querySelector(".modal__close"),L=document.querySelector(".modal__btn");u.addEventListener("click",(()=>{m.classList.add("active"),document.body.classList.add("locked")})),v.addEventListener("click",(()=>{m.classList.remove("active"),document.body.classList.remove("locked")})),L.addEventListener("click",(e=>{e.preventDefault()}));const _=document.querySelector(".form-steps"),y=document.querySelectorAll(".form-steps__image"),g=document.querySelector(".form-steps__images"),p=document.querySelector(".form-steps__steps-list"),h=document.querySelectorAll(".form-steps__step"),k=document.querySelector(".form-steps__content"),E=document.querySelector(".cta-steps"),S=document.querySelector(".form-steps__actions"),q=document.querySelector(".form-steps__prev-btn"),f=document.querySelector(".form-steps__btn");let A=0;!function(){for(let e=0;e<h.length;e++){let t=document.createElement("span");0===e&&t.classList.add("active"),t.textContent=`Шаг ${e+1}`,p.append(t)}}();const b=p.querySelectorAll("span");q.addEventListener("click",(()=>{y.forEach((e=>e.classList.remove("active"))),h.forEach((e=>e.classList.remove("active"))),b.forEach((e=>e.classList.remove("active"))),A--,A<=0&&q.classList.remove("active"),y[A].classList.add("active"),h[A].classList.add("active"),b[A].classList.add("active")})),f.addEventListener("click",(()=>{y.forEach((e=>e.classList.remove("active"))),h.forEach((e=>e.classList.remove("active"))),b.forEach((e=>e.classList.remove("active"))),A++,A>=h.length&&(_.classList.add("active"),E.classList.add("active"),S.classList.add("hidden"),p.classList.add("hidden"),k.classList.add("hidden"),g.classList.add("hidden")),y[A].classList.add("active"),h[A].classList.add("active"),b[A].classList.add("active"),q.classList.add("active")})),function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}()})();